.nav{
    background-color: var(--bg-card-color);
    padding: 1em;
    display: flex;
    align-items: center;
    justify-content: space-between;
    border-bottom: 1px solid var(--bg-color);
    box-shadow: 0 0 1em 0 var(--bg-color);
    
    position:sticky;
    top: 0;
    left: 0;
    width: 100%;
    z-index: 100; 
}

@media screen and (min-width:666px) {      
    .nav{
        border-bottom-left-radius: var(--border-radius);
        border-bottom-right-radius: var(--border-radius);
    }
}

/****************  LOGO  *********************/

.nav__logo-container{
    display: block;
    padding: 0;
    position: relative;
    background-color: var(--bg-card-color);
    width: 4em;
    height: 4em;
    min-width: 4em;
    min-height: 4em;
    border: none;
    margin-right: 5em;
    box-sizing: border-box;
}

.nav__logo{
    background-color: var(--bg-card-color);
    display: block;
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-radius: 50%;
    padding: 0;
}

.nav__logo-container::after, 
.nav__logo-container::before{
    content: "";
    position: absolute;
    border-radius: 50%;
    border-width: .3em;
    border-color: var(--bg-color) transparent var(--bg-color) var(--bg-color);
    border-style: solid;
    box-sizing: border-box;
    transition: transform .5s ease-in-out, border-color .5s ease-in-out;
}

.nav__logo-container::before{
    width: calc(100% + .5em);
    height: calc(100% + .5em);
    left: -.25em;
    top: -.25em;
}

.nav__logo-container::after{
    width: calc(100% + 1.2em);
    height: calc(100% + 1.2em);
    left: -.6em;
    top: -.6em;
}

.nav__logo-container:hover::after{
    transform: rotate(360deg);
    border-color: var(--color) transparent var(--color) var(--color);
}

.nav__logo-container:hover::before{
    transform: rotate(-360deg);
    border-color: var(--color) transparent var(--color) var(--color);
}

.nav__logo-container h1{
    position: absolute;
    right: 0;
    top: 50%;
    transform: translate(100%,-50%);
    font-size: 1.5em;
    padding: .5em;
    font-weight: bolder;
    display: none;
    margin: 0;
}

@media screen and (min-width:666px) {      
    .nav__logo-container h1{display: block;}
}

/****************  nav-btn  *********************/

.nav-btn{
    width: 4em;
    height: 4em;
    border-radius: 50%;
    position: relative;

    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    background: var(--bg-card-color);
    border: .2em solid var(--text-color-2);

    gap: .5em;
    cursor: pointer;
    box-shadow: .2em .2em .2em 0 rgba(0,0,0,0.2);
    transition: var(--transition);
}

@media screen and (min-width:666px) { 
    .nav-btn{
        display: none;
    }   
}

.nav-btn .line-1,
.nav-btn .line-2,
.nav-btn .line-3{
    height: .2em;
    background-color: var(--text-color-2);
    border-radius: .1em;
    box-shadow: .2em .2em .2em 0 rgba(0,0,0,0.2);
    transition: var(--transition);
}
    
.nav-btn .line-1{width: 3em;}
.nav-btn .line-2{width: 3.5em;}
.nav-btn .line-3{width: 3em;}

.nav-btn.open .line-1{animation: day2-appear-liner-1 .5s forwards}
.nav-btn.open .line-2{animation: day2-appear-liner-2 .5s forwards}
.nav-btn.open .line-3{animation: day2-appear-liner-3 .5s forwards}

.nav-btn.no-animation .line-1,
.nav-btn.no-animation .line-2,
.nav-btn.no-animation .line-3{animation: none;}

@keyframes day2-appear-liner-1 {
    0%{transform: translateY(0) }
    50%{transform: translateY(.75em) rotate(0)}
    100%{transform: translateY(.75em) rotate(45deg)}
}

@keyframes day2-appear-liner-2 {
    0%{transform: scale(100%)}
    50%{transform: scale(70%)}
    51%{transform: scale(0%)}
    100%{transform: scale(0%)}
}

@keyframes day2-appear-liner-3 {
    0%{transform: translateY(0) }
    50%{transform: translateY(-.6em) rotate(0)}
    100%{transform: translateY(-.6em) rotate(135deg)}
}

.nav-btn .line-1{animation: day2-disappear-liner-1 .5s forwards}
.nav-btn .line-2{animation: day2-disappear-liner-2 .5s forwards}
.nav-btn .line-3{animation: day2-disappear-liner-3 .5s forwards}

@keyframes day2-disappear-liner-1 {
    0%{transform: translateY(.75em) rotate(45deg)}
    50%{transform: translateY(.75em) rotate(0)}
    100%{transform: translateY(0)}
}

@keyframes day2-disappear-liner-2 {
    0%{transform: scale(0%)}
    49%{transform: scale(0%)}
    50%{transform: scale(70%)}
    100%{transform: scale(100%)}
}

@keyframes day2-disappear-liner-3 {
    0%{transform: translateY(-.6em) rotate(135deg)}
    50%{transform: translateY(-.6em) rotate(0)}
    100%{transform: translateY(0)}
}

.nav-btn:hover{
    border-color: var(--color);
}

.nav-btn:hover .line-1,
.nav-btn:hover .line-2,
.nav-btn:hover .line-3{
    background-color: var(--color);
}

/****************  links  *********************/

.nav__links{
    display: flex;
    gap: .5em;
    background-color: var(--bg-card-color);
    transition: transform .0s, opacity .0s;
}

@media screen and (max-width:666px) {
    .nav__links{
        display: none;
        visibility: hidden;
        opacity: 0;
    }
}

.nav__ul{
    list-style: none;
    padding: 0;
    margin: 0;
    display: flex;
    gap: .5em;
}

@media screen and (max-width:666px) { 
    .nav__links{
        display: flex;
        flex-direction: column;
        gap: .5em;
        position: absolute;
        background-color: var(--bg-card-color);
        padding: 1em;
        bottom: -1px;
        right: 0;
        height: 100vh;
        z-index: 100;
        min-width: 300px;
        transform: translate(100%,100%);
        opacity: 0;
        transition: transform .5s ease-in-out, opacity .5s ease-in-out;
    } 

    .nav__links.open{
        transform: translate(0%,100%);
        opacity: 1;
    }

    .nav__ul{
        flex-direction: column;
    }

    .nav__ul .btn{
        width: 100%;
    }
    
    .nav-shadow{
        display: block;
        background-color: #00000060;
        position: absolute;
        width: 100vw;
        height: 100vh;
        left: 0;
        bottom: -1px;
        z-index: 99;
        transform: translate(100%,100%);
        transition: transform .5s ease-in-out;
    }

    .nav-shadow.open{transform: translate(0%,100%);}
}

/****************  side bar  *********************/

.nav__side-bar{
    display: flex;
    flex-direction: column;
    gap: .5em;
    position: absolute;
    background-color: var(--bg-card-color);
    padding: 1em;
    bottom: -1px;
    right: 0;
    height: 100vh;
    min-width: 300px;
    transform: translate(100%,100%);
    transition: transform .5s ease-in-out;
    z-index: 100;
}

.nav__side-bar.open{
    transform: translate(0%,100%);
}

.nav__side-bar .nav__ul{
    flex-direction: column;
}

.nav__side-bar .nav__ul .btn{
    width: 100%;
}

.nav-shadow{
    background-color: #00000060;
    position: absolute;
    width: 100vw;
    height: 100vh;
    left: 0;
    bottom: -1px;
    z-index: 99;
    transform: translate(100%,100%);
    transition: transform .5s ease-in-out;
}

.nav-shadow.open{transform: translate(0%,100%);}

@media screen and (min-width:666px) {
    .nav__side-bar{
        display: none;
        visibility: hidden;
        opacity: 0;
    }

    .nav-shadow{display: none;}
}